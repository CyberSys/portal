(desc:(eng:"",rus:""),cam:(look_at:(0,0,0),alpha:-44.60342852391636,beta:1.3967666991525378,r:3.9142513012205002,offset_after_material:0.000025),uniforms:(ids:(available:[],max:14),storage:{(0):Inline(Bool(false)),(1):Inline(Bool(true)),(2):Inline(Bool(true)),(3):Named(Progress(0),"scale_down"),(4):Inline(Formula(("1.0 - scale_down * 0.2 + scale_up * 0.2"))),(5):Named(Progress(0),"scale_up"),(6):Named(Progress(0),"portal_black_color_progress"),(7):Named(Bool(false),"teleport_light"),(8):Named(Bool(false),"mirror"),(9):Inline(Bool(false)),(10):Named(Bool(false),"invert_distance"),(11):Inline(Bool(false)),(12):Inline(Formula(("easing_in_out(time)"))),(13):Inline(Formula(("easing_in_out(time)*1.5")))},storage_order:[(6),(7),(8),(10),(3),(5)]),matrices:(ids:(available:[(1),(2),(3),(4),(5),(6),(7),(8),(9),(10),(11),(12)],max:15),storage:{(0):Named(Simple(offset:(0,0,0),scale:1,rotate:(0,0,0),mirror:(false,false,false)),"room_origin"),(13):Named(Parametrized(offset:(x:No(1),y:No(0),z:No(0)),rotate:(x:No(0),y:No(1.5707963267948966),z:No(0)),mirror:(x:No(0),y:No(0),z:No(0)),scale:Yes(Some(((4))))),"a"),(14):Named(Simple(offset:(-1,0,0),scale:1,rotate:(0,1.5707963267948966,0),mirror:(false,false,false)),"b")},storage_order:[(0),(13),(14)]),objects:(ids:(available:[(0),(1),(2),(3),(4),(5)],max:7),storage:{(6):Named(Flat(kind:Portal(Some(((13))),Some(((14)))),is_inside:(("float distance = circle_distance(x, y);\n\nbool first2 = first;\nint surface1 = solid_1_M;\nint surface2 = solid_0_M;\nint portal_blue = portal_orange_M;\nint portal_orange = portal_blue_M;\n\nif (invert_distance_u == 1) {\n  if (distance < 1.) distance = 2.;\n  else if (distance > 1.07) distance = 0.;\n\n  first2 = back;\n  if (first) {\n    surface1 = solid_0_M;\n    surface2 = solid_1_M;\n    portal_blue = portal_blue_M;\n    portal_orange = portal_orange_M;\n  } else {\n    surface1 = solid_0_M;\n    surface2 = solid_1_M;\n    portal_blue = portal_blue_M;\n    portal_orange = portal_orange_M;\n  }\n}\n\nreturn is_inside_portal(\n  distance,\n  1.,\n  0.05,\n  0.01,\n  portal_blue,\n  portal_orange,\n  surface1,\n  surface2,\n  false,\n  first2\n);")),in_subspace:Normal),"portal")},storage_order:[(6)]),cameras:(ids:(available:[],max:7),storage:{(0):Inline((look_at:Coordinate((0,0,0)),alpha:-46.80722273396073,beta:1.4949662764840845,r:0.5818285144116352,in_subspace:false,free_movement:false,matrix:(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1))),(1):Inline((look_at:Coordinate((0,0,0)),alpha:-44.52522390888744,beta:1.4425944503122097,r:3.558410273836792,in_subspace:false,free_movement:false,matrix:(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1))),(2):Inline((look_at:Coordinate((-3.866393205869834,0.10665798583011926,4.446924392162896)),alpha:-42.17792668141766,beta:1.5866169722848662,r:2.9408349370552003,in_subspace:false,free_movement:true,matrix:(0.9999275207519531,0,0,0,0,0.9999871253967285,0,0,0,0,0.9999275207519531,0,3.9998912393873693,0.0000014293943552956545,0.000390463433100674,1))),(3):Inline((look_at:Coordinate((3.021708615533722,0.4549462523201386,-1.8233443523526685)),alpha:-44.52522390888744,beta:1.4425944503122097,r:3.558410273836792,in_subspace:false,free_movement:true,matrix:(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1))),(4):Inline((look_at:Coordinate((-3.1858042557412576,0.15318195198796966,1.5863048214159767)),alpha:-42.17792668141766,beta:1.5866169722848662,r:2.9408349370552003,in_subspace:false,free_movement:false,matrix:(0.9999275207519531,0,0,0,0,0.9999871253967285,0,0,0,0,0.9999275207519531,0,3.9998912393873693,0.0000014293943552956545,0.000390463433100674,1))),(5):Inline((look_at:Coordinate((0,0,0)),alpha:-45.5589267615265,beta:1.2538380813598615,r:10.152559799477231,in_subspace:false,free_movement:false,matrix:(1.0001659393310547,0,0,0,0,1.0013580322265625,0,0,0,0,0.9984970092773438,0,-0.000354975448056738,-0.008072544693401795,0.007247409912471525,1))),(6):Inline((look_at:Coordinate((0,0,0)),alpha:-44.808723588452914,beta:2.2150836928659188,r:62.09213230591659,in_subspace:false,free_movement:false,matrix:(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)))},storage_order:[]),textures:(ids:(available:[],max:1),storage:{(0):Named(("scenes/360_big.png"),"texture")},storage_order:[(0)]),materials:(ids:(available:[(2),(3),(4),(5),(9),(10)],max:15),storage:{(0):Named(Reflect(add_to_color:(1,1,1)),"mirror"),(1):Named(Simple(color:(0,0,0),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"solid_black"),(6):Named(Simple(color:(0.03529411764705882,0.6431372549019608,0.788235294117647),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"portal_blue"),(7):Named(Simple(color:(0.9294117647058824,0.4235294117647059,0.050980392156862744),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"portal_orange"),(8):Named(Simple(color:(0.6666666666666666,0.6666666666666666,0.6666666666666666),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:false,grid3:false),"grid_gray"),(11):Named(Simple(color:(0.03529411764705882,0.6431372549019608,0.788235294117647),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_0"),(12):Named(Simple(color:(0.9294117647058824,0.4235294117647059,0.050980392156862744),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_1"),(13):Named(Simple(color:(0.1843137254901961,0.19607843137254902,1),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_2"),(14):Named(Simple(color:(1,0.9764705882352941,0.15294117647058825),normal_coef:0.5,grid:true,grid_scale:4,grid_coef:0.3,grid2:true,grid3:false),"solid_3")},storage_order:[(6),(7),(8),(11),(12),(13),(14),(0),(1)]),intersection_materials:(ids:(available:[],max:0),storage:{},storage_order:[]),library:(ids:(available:[(1)],max:4),storage:{(0):Named((("int is_inside_square(float x, float y, float sizex, float sizey, int material) {\n  if (abs(x) < sizex && abs(y) < sizey) {\n    return material;\n  } else {\n    return NOT_INSIDE;\n  }\n}\n")),"room"),(2):Named((("bool invert_if(bool value, bool condition) {\n  if (condition) {\n    return !value;\n  } else {\n    return value;\n  }\n}")),"common"),(3):Named((("float circle_distance(float x, float y) {\n  return sqrt(sqr(x) + sqr(y));\n}\n\nfloat ellipse_distance(float x, float y) {\n  return sqrt(2.*sqr(x) + sqr(y));\n}\n\nfloat square_distance(float x, float y) {\n  return max(abs(x), abs(y));\n}\n\nfloat rect_distance(float x, float y, float a, float b) {\n  return max(abs(x)-a+1., abs(y)-b+1.);\n}\n\nfloat triangle_distance(float x, float y, float k1, float k2, float y1) {\n  return max(\n    (y-k1*x)/sqrt(1.0+sqr(k1)),\n  max(\n    (y-k2*x)/sqrt(1.0+sqr(k2)),\n    -y1 * y\n  ));\n}\n\nint is_inside_object(\r\n  float distance, \r\n  float size, \r\n  float border,\r\n  int material_inner, \r\n  int material_border\n) {\r\n  if (distance < size) return material_inner;\r\n  if (distance < size + border) return material_border;\r\n  return NOT_INSIDE;\r\n}\n\nint is_inside_portal(\n  float distance, \n  float size, \n  float border,\n  float black_border,\n  int material_first, \n  int material_second, \n  int grid_material_first, \n  int grid_material_second, \n  bool back,\n  bool first\n) {\n  int material = material_second;\n  if (first) { material = material_first; }\n\n  if (distance < size) {\n    if (back) {\n      return material;      \n    } else {\n      if (teleport_light_u == 1) {\n      \tif (mirror_u == 1) {\n          return mirror_M;\n        } else {\n          return TELEPORT;\n        }\n      } else {\n        if (first) {\n          return grid_material_first;\n        } else {\n          return grid_material_second;\n        }\n      }\n    }\n  }\n  int black_material = solid_black_M;\n  if (_black_border_disable == 1) black_material = material;\n  if (distance < size + black_border && !back) return black_material;\n  if (distance < size + black_border + border) return material;\n  if (distance < size + black_border + border + black_border) return black_material;\n\n  return NOT_INSIDE;\n}")),"portal")},storage_order:[(2),(0),(3)]),animations_filters:(uniforms:({((3)):true,((5)):true,((6)):false,((7)):true,((8)):false,((10)):true}),matrices:({((0)):false,((13)):false,((14)):false}),cameras:({})),elements_descriptions:(uniforms:({((3)):(help_description:None,overrided_name:"Scale down"),((5)):(help_description:None,overrided_name:"Scale up"),((7)):(help_description:None,overrided_name:"Teleport light"),((10)):(help_description:None,overrided_name:"Invert surface")}),matrices:({}),cameras:({})),user_uniforms:(uniforms:({((3)):false,((5)):false,((6)):false,((7)):true,((8)):false,((10)):false}),matrices:({((0)):false,((13)):false,((14)):false})),animation_stages:(ids:(available:[],max:1),storage:{(0):Named((name:(eng:"Explore",rus:"Explore"),description:None,uniforms:({((3)):ProvidedToUser,((5)):ProvidedToUser,((6)):FromDev,((7)):FromDev,((8)):FromDev,((10)):ProvidedToUser}),matrices:({((0)):FromDev,((13)):FromDev,((14)):FromDev}),original_cam_button:false,set_cam:None,cams:{},hidden:false),"Explore")},storage_order:[(0)]),current_stage:Animation(((0))),dev_stage:(uniforms:({((3)):Progress(0),((5)):Progress(0),((6)):Progress(0),((7)):Bool(true),((8)):Bool(false),((10)):Bool(false)}),matrices:({((0)):Simple(offset:(0,0,0),scale:1,rotate:(0,0,0),mirror:(false,false,false)),((13)):Parametrized(offset:(x:No(1),y:No(0),z:No(0)),rotate:(x:No(0),y:No(1.5707963267948966),z:No(0)),mirror:(x:No(0),y:No(0),z:No(0)),scale:Yes(Some(((4))))),((14)):Simple(offset:(-1,0,0),scale:1,rotate:(0,1.5707963267948966,0),mirror:(false,false,false))})),animations:(ids:(available:[],max:10),storage:{(0):Named((duration:3,animation_stage:Animation(((0))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:Some(((0))),cam_end:Some(((1))),use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:InOut),"v2.surface.0"),(1):Named((duration:0.01,animation_stage:RealAnimation(((0))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):Changed(Some(((0)))),((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:true,use_start_cam_as_end:true,cam_start:None,cam_end:None,use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:Linear),"v2.surface.1"),(2):Named((duration:0.01,animation_stage:RealAnimation(((1))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):Changed(Some(((1))))}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:true,use_start_cam_as_end:true,cam_start:None,cam_end:None,use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:Linear),"v2.surface.2"),(3):Named((duration:4,animation_stage:RealAnimation(((2))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):Changed(Some(((2)))),((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:Some(((3))),cam_end:Some(((2))),use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:InOut),"v2.surface.3"),(4):Named((duration:4,animation_stage:RealAnimation(((3))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):Changed(Some(((9)))),((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:None,cam_end:None,use_any_cam_as_start:Some(false),use_any_cam_as_end:Some(true),cam_any_start:Some(((3))),cam_any_end:Some(((3))),cam_easing:InOut),"v2.surface.4"),(5):Named((duration:4,animation_stage:RealAnimation(((3))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:Some(((4))),cam_end:Some(((5))),use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:InOut),"v2.surface.5"),(6):Named((duration:4,animation_stage:RealAnimation(((5))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):Changed(Some(((11)))),((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:None,cam_end:None,use_any_cam_as_start:Some(false),use_any_cam_as_end:Some(true),cam_any_start:Some(((5))),cam_any_end:Some(((5))),cam_easing:InOut),"v2.surface.6"),(7):Named((duration:2,animation_stage:RealAnimation(((5))),uniforms:({((3)):CopyPrev,((5)):Changed(Some(((12)))),((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:true,use_start_cam_as_end:true,cam_start:None,cam_end:None,use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:Linear),"v2.surface.7"),(8):Named((duration:2,animation_stage:RealAnimation(((5))),uniforms:({((3)):Changed(Some(((13)))),((5)):CopyPrev,((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:true,use_start_cam_as_end:true,cam_start:None,cam_end:None,use_any_cam_as_start:None,use_any_cam_as_end:None,cam_any_start:None,cam_any_end:None,cam_easing:Linear),"v2.surface.8"),(9):Named((duration:4,animation_stage:RealAnimation(((2))),uniforms:({((3)):CopyPrev,((5)):CopyPrev,((6)):CopyPrev,((7)):CopyPrev,((8)):CopyPrev,((10)):CopyPrev}),matrices:({((0)):CopyPrev,((13)):CopyPrev,((14)):CopyPrev}),use_prev_cam:false,use_start_cam_as_end:false,cam_start:None,cam_end:Some(((6))),use_any_cam_as_start:Some(true),use_any_cam_as_end:None,cam_any_start:Some(((0))),cam_any_end:None,cam_easing:InOut),"v2.surface.9")},storage_order:[(0),(1),(2),(3),(4),(5),(6),(7),(8),(9)]),use_time:false,skybox:Some("texture"))