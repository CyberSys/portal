(desc:(eng:"",rus:""),cam:(look_at:(0,0,0),alpha:-41.28422249363476,beta:1.3443948729806674,r:4.305676431342514,offset_after_material:0.000025),uniforms:(ids:(available:[(0),(1),(2),(9)],max:11),storage:{(3):Named(Progress(0),"scale_down"),(4):Inline(Formula(("1.0 - scale_down * 0.2 + scale_up * 0.2"))),(5):Named(Progress(0),"scale_up"),(6):Named(Progress(0),"portal_black_color_progress"),(7):Named(Bool(true),"teleport_light"),(8):Named(Bool(false),"mirror"),(10):Named(Bool(false),"invert_distance")},storage_order:[(6),(7),(8),(10),(3),(5)]),matrices:(ids:(available:[(1),(2),(3),(4),(5),(6),(7),(8),(9),(10),(11),(12)],max:15),storage:{(0):Named(Simple(offset:(0,0,0),scale:1,rotate:(0,0,0),mirror:(false,false,false)),"room_origin"),(13):Named(Parametrized(offset:(x:No(1),y:No(0),z:No(0)),rotate:(x:No(0),y:No(1.5707963267948966),z:No(0)),mirror:(x:No(0),y:No(0),z:No(0)),scale:Yes(Some(((4))))),"a"),(14):Named(Simple(offset:(-1,0,0),scale:1,rotate:(0,1.5707963267948966,0),mirror:(false,false,false)),"b")},storage_order:[(0),(13),(14)]),objects:(ids:(available:[(0),(1),(2),(3),(4),(5)],max:7),storage:{(6):Named(Flat(kind:Portal(Some(((13))),Some(((14)))),is_inside:(("float distance = circle_distance(x, y);\n\nbool first2 = first;\nint surface1 = solid_0_M;\nint surface2 = solid_1_M;\n\nif (invert_distance_u == 1) {\n  if (distance < 1.) distance = 2.;\n  else if (distance > 1.07) distance = 0.;\n\n  first2 = back;\n  if (first) {\n    surface1 = solid_0_M;\n    surface2 = solid_0_M;\n  } else {\n    surface1 = solid_1_M;\n    surface2 = solid_1_M;\n  }\n}\n\nreturn is_inside_portal(\n  distance,\n  1.,\n  0.05,\n  0.01,\n  portal_blue_M,\n  portal_orange_M,\n  surface1,\n  surface2,\n  false,\n  first2\n);")),in_subspace:Normal),"portal")},storage_order:[(6)]),cameras:(ids:(available:[],max:0),storage:{},storage_order:[]),textures:(ids:(available:[],max:1),storage:{(0):Named(("scenes/360_big.png"),"texture")},storage_order:[(0)]),materials:(ids:(available:[(2),(3),(4),(5),(9),(10)],max:15),storage:{(0):Named(Reflect(add_to_color:(1,1,1)),"mirror"),(1):Named(Simple(color:(0,0,0),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"solid_black"),(6):Named(Simple(color:(0.03529411764705882,0.6431372549019608,0.788235294117647),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"portal_blue"),(7):Named(Simple(color:(0.9294117647058824,0.4235294117647059,0.050980392156862744),normal_coef:0.5,grid:false,grid_scale:4,grid_coef:0.3,grid2:false,grid3:false),"portal_orange"),(8):Named(Simple(color:(0.6666666666666666,0.6666666666666666,0.6666666666666666),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:false,grid3:false),"grid_gray"),(11):Named(Simple(color:(1,0.24313725490196078,0.24313725490196078),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_0"),(12):Named(Simple(color:(0.24313725490196078,1,0.25098039215686274),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_1"),(13):Named(Simple(color:(0.1843137254901961,0.19607843137254902,1),normal_coef:0.5,grid:true,grid_scale:5,grid_coef:0.3,grid2:true,grid3:false),"solid_2"),(14):Named(Simple(color:(1,0.9764705882352941,0.15294117647058825),normal_coef:0.5,grid:true,grid_scale:4,grid_coef:0.3,grid2:true,grid3:false),"solid_3")},storage_order:[(6),(7),(8),(11),(12),(13),(14),(0),(1)]),intersection_materials:(ids:(available:[],max:0),storage:{},storage_order:[]),library:(ids:(available:[(1)],max:4),storage:{(0):Named((("int is_inside_square(float x, float y, float sizex, float sizey, int material) {\n  if (abs(x) < sizex && abs(y) < sizey) {\n    return material;\n  } else {\n    return NOT_INSIDE;\n  }\n}\n")),"room"),(2):Named((("bool invert_if(bool value, bool condition) {\n  if (condition) {\n    return !value;\n  } else {\n    return value;\n  }\n}")),"common"),(3):Named((("float circle_distance(float x, float y) {\n  return sqrt(sqr(x) + sqr(y));\n}\n\nfloat ellipse_distance(float x, float y) {\n  return sqrt(2.*sqr(x) + sqr(y));\n}\n\nfloat square_distance(float x, float y) {\n  return max(abs(x), abs(y));\n}\n\nfloat rect_distance(float x, float y, float a, float b) {\n  return max(abs(x)-a+1., abs(y)-b+1.);\n}\n\nfloat triangle_distance(float x, float y, float k1, float k2, float y1) {\n  return max(\n    (y-k1*x)/sqrt(1.0+sqr(k1)),\n  max(\n    (y-k2*x)/sqrt(1.0+sqr(k2)),\n    -y1 * y\n  ));\n}\n\nint is_inside_object(\r\n  float distance, \r\n  float size, \r\n  float border,\r\n  int material_inner, \r\n  int material_border\n) {\r\n  if (distance < size) return material_inner;\r\n  if (distance < size + border) return material_border;\r\n  return NOT_INSIDE;\r\n}\n\nint is_inside_portal(\n  float distance, \n  float size, \n  float border,\n  float black_border,\n  int material_first, \n  int material_second, \n  int grid_material_first, \n  int grid_material_second, \n  bool back,\n  bool first\n) {\n  int material = material_second;\n  if (first) { material = material_first; }\n\n  if (distance < size) {\n    if (back) {\n      return material;      \n    } else {\n      if (teleport_light_u == 1) {\n      \tif (mirror_u == 1) {\n          return mirror_M;\n        } else {\n          return TELEPORT;\n        }\n      } else {\n        if (first) {\n          return grid_material_first;\n        } else {\n          return grid_material_second;\n        }\n      }\n    }\n  }\n  int black_material = solid_black_M;\n  if (_black_border_disable == 1) black_material = material;\n  if (distance < size + black_border && !back) return black_material;\n  if (distance < size + black_border + border) return material;\n  if (distance < size + black_border + border + black_border) return black_material;\n\n  return NOT_INSIDE;\n}")),"portal")},storage_order:[(2),(0),(3)]),animations_filters:(uniforms:({((8)):false,((6)):false,((10)):true,((3)):true,((5)):true,((7)):true}),matrices:({((13)):false,((0)):false,((14)):false}),cameras:({})),elements_descriptions:(uniforms:({((3)):(help_description:None,overrided_name:"Scale down"),((10)):(help_description:None,overrided_name:"Invert surface"),((5)):(help_description:None,overrided_name:"Scale up"),((7)):(help_description:None,overrided_name:"Teleport light")}),matrices:({}),cameras:({})),user_uniforms:(uniforms:({((6)):false,((7)):true,((3)):false,((10)):false,((8)):false,((5)):false}),matrices:({((13)):false,((14)):false,((0)):false})),animation_stages:(ids:(available:[],max:1),storage:{(0):Named((name:(eng:"Explore",rus:"Explore"),description:None,uniforms:({((10)):ProvidedToUser,((3)):ProvidedToUser,((7)):FromDev,((5)):ProvidedToUser,((8)):FromDev,((6)):FromDev}),matrices:({((14)):FromDev,((13)):FromDev,((0)):FromDev}),original_cam_button:false,set_cam:None,cams:{},hidden:false),"Explore")},storage_order:[(0)]),current_stage:Animation(((0))),dev_stage:(uniforms:({((3)):Progress(0),((6)):Progress(0),((7)):Bool(true),((0)):Float((min:Some(0),max:None,value:4)),((1)):Float((min:Some(0),max:None,value:4)),((2)):Float((min:Some(0),max:None,value:4)),((8)):Bool(false),((10)):Bool(false),((5)):Progress(0)}),matrices:({((13)):Parametrized(offset:(x:No(1),y:No(0),z:No(0)),rotate:(x:No(0),y:No(1.5707963267948966),z:No(0)),mirror:(x:No(0),y:No(0),z:No(0)),scale:Yes(Some(((4))))),((14)):Simple(offset:(-1,0,0),scale:1,rotate:(0,1.5707963267948966,0),mirror:(false,false,false)),((0)):Simple(offset:(0,0,0),scale:1,rotate:(0,0,0),mirror:(false,false,false))})),animations:(ids:(available:[],max:0),storage:{},storage_order:[]),use_time:false,skybox:Some("texture"))